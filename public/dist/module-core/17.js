(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"2B1R":function(t,e,a){"use strict";var n=a("I+eb"),i=a("tycR").map;n({target:"Array",proto:!0,forced:!a("Hd5f")("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},oCn7:function(t,e,a){"use strict";a.r(e);a("zKZe");var n=a("FAbG"),i={mixins:[a("K49p").a],components:{Search:n.a},props:{},data:function(){return{table:{actions:{list:this.$api.moduleCoreStaff,remove:this.$api.moduleCoreStaff},columns:[{title:"#",dataIndex:"id",fixed:"left",width:80},{title:"直接上级",scopedSlots:{customRender:"pid"},width:120},{title:"所属部门",scopedSlots:{customRender:"departments"},width:220},{title:"员工编码",dataIndex:"code",width:120},{title:"姓名",dataIndex:"name",width:120},{title:"性别",scopedSlots:{customRender:"gender"},width:90},{title:"岗位",dataIndex:"title",width:150},{title:"级别",dataIndex:"rank",width:120},{title:"入职日期",dataIndex:"hireday",width:120},{title:"出生日期",dataIndex:"birthday",width:120},{title:"工作日期",dataIndex:"workday",width:120},{title:"电话",dataIndex:"phone",width:150},{title:"邮箱",dataIndex:"email",width:180},{title:"排序",dataIndex:"order",width:90},{title:"类型",scopedSlots:{customRender:"type"},width:120},{title:"类别",dataIndex:"category",width:120},{title:"状态",scopedSlots:{customRender:"status"},width:120},{title:"创建时间",dataIndex:"created_at",width:120},{title:"更新时间",dataIndex:"updated_at",width:120},{title:"操作",fixed:"right",scopedSlots:{customRender:"action"}}]},search:{fields:[{label:"所属部门",name:"department_id",type:"select-remote",data:this.$api.moduleCoreDepartments},{label:"姓名",name:"name",type:"text"},{label:"员工编码",name:"code",type:"text"}]},dictionary:{status:{enabled:"启用",disabled:"禁用"},gender:["默认","男","女","其他"]},loading_status:{}}},watch:{},computed:{},methods:{onStatusChange:function(t){var e=this,a=[1,0][t.status];this.loading_status["_"+t.id]=!0,this.$put(this.$api.moduleCoreStaff+"/"+t.id,Object.assign({},t,{status:a})).then((function(n){if(e.loading_status["_"+t.id]=!1,200!==n.code)return e.$message.error(n.msg);t.status=a,e.$message.success(n.msg)})).catch((function(){return e.loading_status["_"+t.id]=!1}))},onload:function(){this.loadTableData()}},created:function(){this.onload()},mounted:function(){}},s=a("KHd+"),d=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"admin_table_page_title"},[t._v("地区列表")]),t._v(" "),a("div",{staticClass:"unline underm"}),t._v(" "),a("div",{staticClass:"admin_table_list"},[a("a-table",{attrs:{size:"small",columns:t.table.columns,"data-source":t.table.data,scroll:{y:t.sysWindowHeight-400},loading:t.table.loading,pagination:!1,"row-selection":{selectedRowKeys:t.table.selectedRowKeys,onChange:t.handleTableRowKeysChange},"row-key":"id"},scopedSlots:t._u([{key:"title",fn:function(e){return[a("search",{attrs:{"search-config":t.search.fields,"auto-params":t.search.params,"export-config":t.exporting},on:{searchParams:t.handleTableSearchParams,handleExport:t.handleTableExport}}),t._v(" "),a("div",{staticClass:"admin_table_handle_btn"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$router.push("/Admin/goodcatch/m/core/staff/form")}}},[t._v("添加")]),t._v(" "),a("a-button",{staticClass:"admin_delete_btn",attrs:{type:"danger",icon:"delete"},on:{click:t.handleRemoveTableRows}},[t._v("批量删除")])],1)]}},{key:"pid",fn:function(e){return a("span",{},[t._v("\n                "+t._s(e.parent?e.parent.name:"--")+"\n            ")])}},{key:"type",fn:function(e){return a("span",{},[t._v("\n                "+t._s(0===e.type?"默认":"其他")+"\n            ")])}},{key:"gender",fn:function(e){return a("span",{},[t._v("\n                "+t._s(t.dictionary.gender[e.gender])+"\n            ")])}},{key:"departments",fn:function(e){return a("span",{},[t._v("\n                "+t._s(e.departments.length>0?e.departments.join(" / "):"--")+"\n            ")])}},{key:"status",fn:function(e){return a("a-switch",{attrs:{loading:t.loading_status["_"+e.id],"checked-children":t.dictionary.status.enabled,"un-checked-children":t.dictionary.status.disabled,"default-checked":1===e.status},on:{change:function(a){return t.onStatusChange(e)}}})}},{key:"action",fn:function(e){return a("span",{},[a("a-button",{attrs:{icon:"edit"},on:{click:function(a){return t.$router.push("/Admin/goodcatch/m/core/staff/form/"+e.id)}}},[t._v("编辑")])],1)}}])}),t._v(" "),t.table.total>0?a("div",{staticClass:"admin_pagination"},[a("a-pagination",{attrs:{"page-size":t.table.params.per_page,total:t.table.total,"show-less-items":""},on:{"update:pageSize":function(e){return t.$set(t.table.params,"per_page",e)},"update:page-size":function(e){return t.$set(t.table.params,"per_page",e)},change:t.handleTablePageChange},model:{value:t.table.params.page,callback:function(e){t.$set(t.table.params,"page",e)},expression:"table.params.page"}})],1):t._e()],1)])}),[],!1,null,"379634f6",null);e.default=d.exports}}]);