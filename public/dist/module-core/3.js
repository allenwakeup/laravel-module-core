(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"033C":function(e,t,n){var r=n("Hdy6");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},"2B1R":function(e,t,n){"use strict";var r=n("I+eb"),a=n("tycR").map;r({target:"Array",proto:!0,forced:!n("Hd5f")("map")},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"2Zix":function(e,t,n){var r=n("NC/Y");e.exports=/MSIE|Trident/.test(r)},"9UVS":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".payload-modal[data-v-24837038]{width:100%}",""])},"AG/X":function(e,t,n){"use strict";n("033C")},ATb0:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".components-input-demo-presuffix .anticon-close-circle[data-v-13bb0bc8]{cursor:pointer;color:#ccc;transition:color .3s;font-size:12px}.components-input-demo-presuffix .anticon-close-circle[data-v-13bb0bc8]:hover{color:#f5222d}.components-input-demo-presuffix .anticon-close-circle[data-v-13bb0bc8]:active{color:#666}",""])},BNF5:function(e,t,n){var r=n("NC/Y").match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},Hdy6:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".card-container{background:#fff;overflow:hidden;padding:12px;position:relative;width:100%}.card-container .ant-tabs{border:1px solid #e6ebf5;padding:0}.card-container .ant-tabs .ant-tabs-bar{margin:0;outline:none;border-bottom:none}.card-container .ant-tabs .ant-tabs-bar .ant-tabs-nav-container{margin:0}.card-container .ant-tabs .ant-tabs-bar .ant-tabs-nav-container .ant-tabs-tab{padding:0 24px!important;background-color:#f5f7fa!important;margin-right:0!important;border-radius:0;line-height:38px;border:1px solid transparent!important;border-bottom-color:#e6ebf5!important}.card-container .ant-tabs .ant-tabs-bar .ant-tabs-nav-container .ant-tabs-tab-active.ant-tabs-tab{color:#409eff;background-color:#fff!important;border-right:1px solid #e6ebf5!important;border-left:1px solid #e6ebf5!important;border-bottom:1px solid #fff!important;font-weight:400;transition:none!important}.card-container .ant-tabs .ant-tabs-tabpane{padding:15px}.card-container .ant-tabs .ant-tabs-tabpane .ant-row{margin:10px 0}.card-container .ant-tabs .ant-tabs-tabpane .ant-input-number,.card-container .ant-tabs .ant-tabs-tabpane .ant-select{width:100px}",""])},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),a=n("WjRb"),i=n("HYAF"),s=n("V37c");r({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(e){return!!~s(i(this)).indexOf(s(a(e)),arguments.length>1?arguments[1]:void 0)}})},SOtq:function(e,t,n){"use strict";n.r(t);n("zKZe"),n("2B1R"),n("07d7"),n("JfAA"),n("+2oP"),n("ma9I"),n("SYor"),n("rB9j"),n("EnZy"),n("yq1k"),n("JTJg"),n("ToJy"),n("qePV");var r=(new Date).getFullYear(),a={name:"AntCron",props:["data"],data:function(){return{curYear:r,visible:!1,confirmLoading:!1,size:"large",weekDays:["天","一","二","三","四","五","六"].map((function(e){return"星期"+e})),result:{second:{},minute:{},hour:{},day:{},week:{},month:{},year:{}},defaultValue:{second:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]},minute:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]},hour:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:"0",rangeEnd:"0",specificSpecific:[]},day:{cronEvery:"",incrementStart:1,incrementIncrement:"1",rangeStart:"",rangeEnd:"",specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:1,cronDaysNearestWeekday:1},week:{cronEvery:"",incrementStart:1,incrementIncrement:1,specificSpecific:[],cronNthDayDay:1,cronNthDayNth:1},month:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]},year:{cronEvery:"",incrementStart:r,incrementIncrement:1,rangeStart:r,rangeEnd:r,specificSpecific:[]},label:""}}},computed:{modalWidth:function(){return 608},secondsText:function(){var e="";switch((this.result.second.cronEvery||"").toString()){case"1":e="*";break;case"2":e=this.result.second.incrementStart+"/"+this.result.second.incrementIncrement;break;case"3":this.result.second.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.second.rangeStart+"-"+this.result.second.rangeEnd}return e},minutesText:function(){var e="";switch((this.result.minute.cronEvery||"").toString()){case"1":e="*";break;case"2":e=this.result.minute.incrementStart+"/"+this.result.minute.incrementIncrement;break;case"3":this.result.minute.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.minute.rangeStart+"-"+this.result.minute.rangeEnd}return e},hoursText:function(){var e="";switch((this.result.hour.cronEvery||"").toString()){case"1":e="*";break;case"2":e=this.result.hour.incrementStart+"/"+this.result.hour.incrementIncrement;break;case"3":this.result.hour.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.hour.rangeStart+"-"+this.result.hour.rangeEnd}return e},daysText:function(){var e="";switch((this.result.day.cronEvery||"").toString()){case"1":break;case"2":case"4":case"11":e="?";break;case"3":e=this.result.day.incrementStart+"/"+this.result.day.incrementIncrement;break;case"5":this.result.day.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":e="L";break;case"7":e="LW";break;case"8":e=this.result.day.cronLastSpecificDomDay+"L";break;case"9":e="L-"+this.result.day.cronDaysBeforeEomMinus;break;case"10":e=this.result.day.cronDaysNearestWeekday+"W"}return e},weeksText:function(){var e="";switch((this.result.day.cronEvery||"").toString()){case"1":case"3":case"5":e="?";break;case"2":e=this.result.week.incrementStart+"/"+this.result.week.incrementIncrement;break;case"4":this.result.week.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":case"7":case"8":case"9":case"10":e="?";break;case"11":e=this.result.week.cronNthDayDay+"#"+this.result.week.cronNthDayNth}return e},monthsText:function(){var e="";switch((this.result.month.cronEvery||"").toString()){case"1":e="*";break;case"2":e=this.result.month.incrementStart+"/"+this.result.month.incrementIncrement;break;case"3":this.result.month.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.month.rangeStart+"-"+this.result.month.rangeEnd}return e},yearsText:function(){var e="";switch((this.result.year.cronEvery||"").toString()){case"1":e="*";break;case"2":e=this.result.year.incrementStart+"/"+this.result.year.incrementIncrement;break;case"3":this.result.year.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.year.rangeStart+"-"+this.result.year.rangeEnd}return e},cron:function(){return"".concat(this.secondsText||"*"," ").concat(this.minutesText||"*"," ").concat(this.hoursText||"*"," ").concat(this.daysText||"*"," ").concat(this.monthsText||"*"," ").concat(this.weeksText||"?"," ").concat(this.yearsText||"*")}},watch:{visible:{handler:function(){var e=this.data;if(e){var t=(e=e.trim()).split(" ").length;switch(!0){case t>0:this.secondsReverseExp(e);case t>1:this.minutesReverseExp(e);case t>2:this.hoursReverseExp(e);case t>3:this.daysReverseExp(e);case t>4:this.daysReverseExp(e);case t>5:this.monthsReverseExp(e);case t>6:this.yearReverseExp(e)}}else this.result=JSON.parse(JSON.stringify(this.defaultValue))}}},methods:{show:function(){this.visible=!0},handleSubmit:function(){this.$emit("ok",this.cron),this.close(),this.visible=!1},close:function(){this.visible=!1},secondsReverseExp:function(e){var t=e.split(" ")[0],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="3",n.specificSpecific=[t]}this.result.second=n},minutesReverseExp:function(e){var t=e.split(" ")[1],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="3",n.specificSpecific=[t]}this.result.minute=n},hoursReverseExp:function(e){var t=e.split(" ")[2],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="3",n.specificSpecific=[t]}this.result.hour=n},daysReverseExp:function(e){var t=e.split(" ")[3],n=e.split(" ")[5],r={cronEvery:"",incrementStart:1,incrementIncrement:1,rangeStart:1,rangeEnd:1,specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:1,cronDaysNearestWeekday:1},a={cronEvery:"",incrementStart:1,incrementIncrement:1,specificSpecific:[],cronNthDayDay:1,cronNthDayNth:1};if(t.includes("?"))switch(!0){case n.includes("/"):r.cronEvery="2",a.incrementStart=parseInt(n.split("/")[0]),a.incrementIncrement=parseInt(n.split("/")[1]);break;case n.includes(","):r.cronEvery="4",a.specificSpecific=n.split(",").map(Number).sort();break;case n.includes("#"):r.cronEvery="11",a.cronNthDayDay=parseInt(n.split("#")[0]),a.cronNthDayNth=parseInt(n.split("#")[1]);break;default:r.cronEvery="4",a.cronEvery="4",a.specificSpecific=[parseInt(n)]}else switch(!0){case t.includes("*"):r.cronEvery="1";break;case t.includes("?"):break;case t.includes("/"):r.cronEvery="3",r.incrementStart=t.split("/")[0],r.incrementIncrement=t.split("/")[1];break;case t.includes(","):r.cronEvery="5",r.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("LW"):r.cronEvery="7";break;case t.includes("L-"):r.cronEvery="9",r.cronDaysBeforeEomMinus=t.split("L-")[1];break;case t.includes("L"):1==t.len?(r.cronEvery="6",r.cronLastSpecificDomDay="1"):(r.cronEvery="8",r.cronLastSpecificDomDay=Number(t.split("L")[0]));break;case t.includes("W"):r.cronEvery="10",r.cronDaysNearestWeekday=t.split("W")[0];break;default:r.cronEvery="5",r.specificSpecific=[t]}this.result.day=r,this.result.week=a},monthsReverseExp:function(e){var t=e.split(" ")[4],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="3",n.specificSpecific=[t]}this.result.month=n},yearReverseExp:function(e){var t=e.split(" ")[6],n={cronEvery:"",incrementStart:r,incrementIncrement:5,rangeStart:r,rangeEnd:r,specificSpecific:[]};if(void 0!==t)switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="3",n.specificSpecific=[t]}else n.cronEvery="1";this.result.year=n}}},i=(n("AG/X"),n("XKA8"),n("KHd+")),s=Object(i.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"corn表达式",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.close}},[n("div",{staticClass:"card-container"},[n("a-tabs",{attrs:{type:"card"}},[n("a-tab-pane",{key:"1",attrs:{type:"card"}},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("秒\n      ")],1),e._v(" "),n("a-radio-group",{model:{value:e.result.second.cronEvery,callback:function(t){e.$set(e.result.second,"cronEvery",t)},expression:"result.second.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一秒钟")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("\n                            每隔\n                            "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.second.incrementIncrement,callback:function(t){e.$set(e.result.second,"incrementIncrement",t)},expression:"result.second.incrementIncrement"}}),e._v("秒执行 从\n                            "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.incrementStart,callback:function(t){e.$set(e.result.second,"incrementStart",t)},expression:"result.second.incrementStart"}}),e._v("秒开始\n                        ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体秒数(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.second.specificSpecific,callback:function(t){e.$set(e.result.second,"specificSpecific",t)},expression:"result.second.specificSpecific"}},e._l(60,(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("\n                            周期从\n                            "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.second.rangeStart,callback:function(t){e.$set(e.result.second,"rangeStart",t)},expression:"result.second.rangeStart"}}),e._v("到\n                            "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.rangeEnd,callback:function(t){e.$set(e.result.second,"rangeEnd",t)},expression:"result.second.rangeEnd"}}),e._v("秒\n                        ")],1)],1)],1)],1),e._v(" "),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("分\n      ")],1),e._v(" "),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.minute.cronEvery,callback:function(t){e.$set(e.result.minute,"cronEvery",t)},expression:"result.minute.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一分钟")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("\n                                每隔\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.incrementIncrement,callback:function(t){e.$set(e.result.minute,"incrementIncrement",t)},expression:"result.minute.incrementIncrement"}}),e._v("分执行 从\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.incrementStart,callback:function(t){e.$set(e.result.minute,"incrementStart",t)},expression:"result.minute.incrementStart"}}),e._v("分开始\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体分钟数(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.minute.specificSpecific,callback:function(t){e.$set(e.result.minute,"specificSpecific",t)},expression:"result.minute.specificSpecific"}},e._l(Array(60),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("\n                                周期从\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.rangeStart,callback:function(t){e.$set(e.result.minute,"rangeStart",t)},expression:"result.minute.rangeStart"}}),e._v("到\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.rangeEnd,callback:function(t){e.$set(e.result.minute,"rangeEnd",t)},expression:"result.minute.rangeEnd"}}),e._v("分\n                            ")],1)],1)],1)],1)]),e._v(" "),n("a-tab-pane",{key:"3"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("时\n      ")],1),e._v(" "),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.hour.cronEvery,callback:function(t){e.$set(e.result.hour,"cronEvery",t)},expression:"result.hour.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一小时")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("\n                                每隔\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementIncrement,callback:function(t){e.$set(e.result.hour,"incrementIncrement",t)},expression:"result.hour.incrementIncrement"}}),e._v("小时执行 从\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementStart,callback:function(t){e.$set(e.result.hour,"incrementStart",t)},expression:"result.hour.incrementStart"}}),e._v("小时开始\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体小时数(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.hour.specificSpecific,callback:function(t){e.$set(e.result.hour,"specificSpecific",t)},expression:"result.hour.specificSpecific"}},e._l(Array(24),(function(t,r){return n("a-select-option",{key:r},[e._v(e._s(r))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("\n                                周期从\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeStart,callback:function(t){e.$set(e.result.hour,"rangeStart",t)},expression:"result.hour.rangeStart"}}),e._v("到\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeEnd,callback:function(t){e.$set(e.result.hour,"rangeEnd",t)},expression:"result.hour.rangeEnd"}}),e._v("小时\n                            ")],1)],1)],1)],1)]),e._v(" "),n("a-tab-pane",{key:"4"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("天\n      ")],1),e._v(" "),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.day.cronEvery,callback:function(t){e.$set(e.result.day,"cronEvery",t)},expression:"result.day.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一天")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("\n                                每隔\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:7},model:{value:e.result.week.incrementIncrement,callback:function(t){e.$set(e.result.week,"incrementIncrement",t)},expression:"result.week.incrementIncrement"}}),e._v("周执行 从\n                                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.incrementStart,callback:function(t){e.$set(e.result.week,"incrementStart",t)},expression:"result.week.incrementStart"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r-1}},[e._v(e._s(e.weekDays[r-1]))])})),1),e._v("开始\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("\n                                每隔\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementIncrement,callback:function(t){e.$set(e.result.day,"incrementIncrement",t)},expression:"result.day.incrementIncrement"}}),e._v("天执行 从\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementStart,callback:function(t){e.$set(e.result.day,"incrementStart",t)},expression:"result.day.incrementStart"}}),e._v("日开始\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"4"}},[e._v("具体星期几(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.week.specificSpecific,callback:function(t){e.$set(e.result.week,"specificSpecific",t)},expression:"result.week.specificSpecific"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r-1}},[e._v(e._s(e.weekDays[r-1]))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"5"}},[e._v("具体天数(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.day.specificSpecific,callback:function(t){e.$set(e.result.day,"specificSpecific",t)},expression:"result.day.specificSpecific"}},e._l(Array(31),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(r+1))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"6"}},[e._v("在这个月的最后一天")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"7"}},[e._v("在这个月的最后一个工作日")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"8"}},[e._v("\n                                在这个月的最后一个\n                                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.day.cronLastSpecificDomDay,callback:function(t){e.$set(e.result.day,"cronLastSpecificDomDay",t)},expression:"result.day.cronLastSpecificDomDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"9"}},[e._v("\n                                在本月底前\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysBeforeEomMinus,callback:function(t){e.$set(e.result.day,"cronDaysBeforeEomMinus",t)},expression:"result.day.cronDaysBeforeEomMinus"}}),e._v("天\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"10"}},[e._v("\n                                最近的工作日（周一至周五）至本月\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysNearestWeekday,callback:function(t){e.$set(e.result.day,"cronDaysNearestWeekday",t)},expression:"result.day.cronDaysNearestWeekday"}}),e._v("日\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"11"}},[e._v("\n                                在这个月的第\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:5},model:{value:e.result.week.cronNthDayNth,callback:function(t){e.$set(e.result.week,"cronNthDayNth",t)},expression:"result.week.cronNthDayNth"}}),e._v("个\n                                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.cronNthDayDay,callback:function(t){e.$set(e.result.week,"cronNthDayDay",t)},expression:"result.week.cronNthDayDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1)],1)],1)]),e._v(" "),n("a-tab-pane",{key:"5"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("月\n      ")],1),e._v(" "),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.month.cronEvery,callback:function(t){e.$set(e.result.month,"cronEvery",t)},expression:"result.month.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一月")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("\n                                每隔\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementIncrement,callback:function(t){e.$set(e.result.month,"incrementIncrement",t)},expression:"result.month.incrementIncrement"}}),e._v("月执行 从\n                                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementStart,callback:function(t){e.$set(e.result.month,"incrementStart",t)},expression:"result.month.incrementStart"}}),e._v("月开始\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体月数(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.month.specificSpecific,callback:function(t){e.$set(e.result.month,"specificSpecific",t)},expression:"result.month.specificSpecific"}},e._l(Array(12),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(r+1))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("\n                                从\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeStart,callback:function(t){e.$set(e.result.month,"rangeStart",t)},expression:"result.month.rangeStart"}}),e._v("到\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeEnd,callback:function(t){e.$set(e.result.month,"rangeEnd",t)},expression:"result.month.rangeEnd"}}),e._v("月之间的每个月\n                            ")],1)],1)],1)],1)]),e._v(" "),n("a-tab-pane",{key:"6"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("年\n      ")],1),e._v(" "),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.year.cronEvery,callback:function(t){e.$set(e.result.year,"cronEvery",t)},expression:"result.year.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一年")])],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("\n                                每隔\n                                "),n("a-input-number",{attrs:{size:"small",min:1,max:99},model:{value:e.result.year.incrementIncrement,callback:function(t){e.$set(e.result.year,"incrementIncrement",t)},expression:"result.year.incrementIncrement"}}),e._v("年执行 从\n                                "),n("a-input-number",{attrs:{size:"small",min:e.curYear,max:e.curYear+100},model:{value:e.result.year.incrementStart,callback:function(t){e.$set(e.result.year,"incrementStart",t)},expression:"result.year.incrementStart"}}),e._v("年开始\n                            ")],1)],1),e._v(" "),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体年份(可多选)")]),e._v(" "),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.year.specificSpecific,callback:function(t){e.$set(e.result.year,"specificSpecific",t)},expression:"result.year.specificSpecific"}},e._l(Array(100),(function(t,r){return n("a-select-option",{key:r,attrs:{value:e.curYear+r-1}},[e._v(e._s(e.curYear+r-1))])})),1)],1),e._v(" "),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("\n                                从\n                                "),n("a-input-number",{attrs:{size:"small",min:e.curYear,max:e.curYear+100},model:{value:e.result.year.rangeStart,callback:function(t){e.$set(e.result.year,"rangeStart",t)},expression:"result.year.rangeStart"}}),e._v("到\n                                "),n("a-input-number",{attrs:{size:"small",min:e.curYear,max:e.curYear+100},model:{value:e.result.year.rangeEnd,callback:function(t){e.$set(e.result.year,"rangeEnd",t)},expression:"result.year.rangeEnd"}}),e._v("年之间的每一年\n                            ")],1)],1)],1)],1)])],1),e._v(" "),n("div",{staticClass:"bottom"},[n("span",{staticClass:"value"},[e._v(e._s(this.cron))])])],1)])}),[],!1,null,"54475bf7",null).exports,o=(n("FZtP"),n("tkto"),n("UxlC"),n("TWNs"),{sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"}),c=function(e){return e&&(e=e.toLowerCase(),Object.keys(o).forEach((function(t){e=e.replace(new RegExp(t,"g"),o[t])})),e=e.replace(new RegExp("7","g"),"0")),e},l={name:"ACron",components:{AntCron:s},props:{value:{required:!1,type:String,default:""},placeholder:{required:!1,type:String,default:""}},data:function(){return{cron:this.value,afterCron:""}},watch:{value:function(e){this.cron=e},cron:function(e){console.log(c(e)),this.afterCron=c(e),console.log(e),this.$emit("input",e)}},methods:{openModal:function(){this.$refs.innerVueCron.show()},handleOK:function(e){this.cron=e,this.$emit("change",this.cron)},handleinput:function(e){this.cron=e.target.value,""!==this.cron?this.$emit("change",this.cron):this.$emit("change",void 0)},handleEmpty:function(){this.handleOK("")}},model:{prop:"value",event:"change"}},u=(n("xxch"),{components:{ACron:Object(i.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-input-demo-presuffix"},[n("a-input",{attrs:{placeholder:e.placeholder,value:e.cron},on:{input:e.handleinput}},[n("a-icon",{attrs:{slot:"prefix",type:"schedule",title:"corn控件"},on:{click:e.openModal},slot:"prefix"}),e._v(" "),e.cron?n("a-icon",{attrs:{slot:"suffix",type:"close-circle",title:"清空"},on:{click:e.handleEmpty},slot:"suffix"}):e._e()],1),e._v(" "),n("AntCron",{ref:"innerVueCron",attrs:{data:e.afterCron},on:{ok:e.handleOK}})],1)}),[],!1,null,"13bb0bc8",null).exports},props:{},data:function(){return{formItemRequires:{overlapping:!1,one_server:!1,background:!1,maintenance:!1,ping_before:!1,ping_success:!1,ping_failure:!1},payloadHelper1:!1,payloadHelper2:!1,moreOption:!1,form:{name:"",input1:"",input2:"",input3:void 0,cron:"0 0 0 2 * ?",ping_before:"",ping_success:"",ping_failure:"",payload:"",description:"",schedule_type:1,overlapping:0,one_server:0,background:"",maintenance:0,once:1,group:"",order:1,status:1,start:0},id:0,rules:{group:[{required:!0,message:"请填写分组"}]},test:{loading:!1}}},watch:{},computed:{showFormItem:function(){var e=this,t={};for(var n in this.formItemRequires)this.formItemRequires.hasOwnProperty(n)&&!1===this.formItemRequires[n]&&this.moreOption&&(t[n]=!0);return[1,2,3].forEach((function(n){return t["input"+n]=n===e.form.schedule_type})),t}},methods:{handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return e.$message.error("请正确填写表单！"),!1;var n=Object.assign({},e.form,{logs:"",payload:e.form.payload?JSON.stringify(e.form.payload):""}),r=e.$apiHandle(e.$api.moduleCoreSchedules,e.id);r.status?e.$put(r.url,n).then((function(t){return 200==t.code?(e.$message.success(t.msg),e.$router.back()):e.$message.error(t.msg)})):e.$post(r.url,n).then((function(t){return 200==t.code||201==t.code?(e.$message.success(t.msg),e.$router.back()):e.$message.error(t.msg)}))}))},onChangeMoreOptions:function(e){this.moreOption=e},onChangeOverlappingOptions:function(e){this.form.overlapping=e?1:0},onChangeOneServerOptions:function(e){this.form.one_server=e?1:0},onChangeBackgroundOptions:function(e){this.form.background=e?1:0},onChangeMaintenanceOptions:function(e){this.form.maintenance=e?1:0},onChangeOnceOptions:function(e){this.form.once=e?1:0},onChangeStartOptions:function(e){this.form.start=e?1:0},onChangeOrder:function(e){this.form.order=e},onChangePort:function(e){this.form.port=e},onChangeStatus:function(e){this.form.status=e?1:0},get_form:function(){var e=this;this.$get(this.$api.moduleCoreSchedules+"/"+this.id).then((function(t){t.data.payload=t.data.payload?JSON.stringify(t.data.payload,null,2):"",e.form=t.data,t.data.schedule_type&&t.data.input&&(e.form["input"+t.data.schedule_type]=t.data.input)}))},handleScheduleTypeChange:function(e){this.form.schedule_type=e},handleInput3Change:function(e){this.form.input3=e.key,this.form.input3Text=e.label},showPaylaodHelper1Modal:function(){this.payloadHelper1=!0},showPaylaodHelper2Modal:function(){this.payloadHelper2=!0},handlePayloadHelperOk1:function(){this.payloadHelper1=!1},handlePayloadHelperOk2:function(){this.payloadHelper2=!1},setCorn:function(e){this.form.cron=e},onload:function(){this.$isEmpty(this.$route.params.id)||(this.id=this.$route.params.id,this.get_form())}},created:function(){this.onload()},mounted:function(){}}),m=(n("v0y9"),Object(i.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"admin_table_page_title"},[n("a-button",{staticClass:"float_right",attrs:{icon:"arrow-left"},on:{click:function(t){return e.$router.back()}}},[e._v("返回")]),e._v("\n            计划与任务编辑\n        ")],1),e._v(" "),n("div",{staticClass:"unline underm"}),e._v(" "),n("div",{staticClass:"admin_form"},[n("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-col":{span:5},"wrapper-col":{span:12}}},[n("a-form-model-item",{attrs:{label:"名称",prop:"name"}},[n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{span:12}},[n("a-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"计划或任务名称，长度200个字符以内"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"}})],1)],1)],1),e._v(" "),n("a-col",{attrs:{span:12}},[n("a-switch",{attrs:{"checked-children":"更多选项","un-checked-children":"更少选项"},on:{change:e.onChangeMoreOptions}})],1)],1)],1),e._v(" "),n("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[n("a-textarea",{attrs:{placeholder:"请输入计划或任务的描述信息，例如：用途，作用，周期说明等等。","auto-size":{minRows:3,maxRows:5}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"执行",prop:"schedule_type"}},[n("a-input-group",{attrs:{compact:""}},[n("a-select",{staticStyle:{width:"100px"},attrs:{placeholder:"选择计划或任务的类型",value:e.form.schedule_type,model:e.form.schedule_type},on:{change:e.handleScheduleTypeChange}},[n("a-select-option",{attrs:{value:1}},[e._v("\n                                执行指令\n                            ")]),e._v(" "),n("a-select-option",{attrs:{value:2}},[e._v("\n                                执行脚本\n                            ")]),e._v(" "),n("a-select-option",{attrs:{value:3}},[e._v("\n                                任务模板\n                            ")])],1),e._v(" "),n("a-input",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.input1,expression:"showFormItem['input1']"}],staticStyle:{width:"350px"},attrs:{placeholder:"执行指令，如 config:cache"},model:{value:e.form.input1,callback:function(t){e.$set(e.form,"input1",t)},expression:"form.input1"}},[n("a-tooltip",{attrs:{slot:"suffix",title:"指令，当计划任务类型是命令时显示，如：php artisan config:cache 只需要输入 config:cache"},slot:"suffix"},[n("a-icon",{attrs:{type:"info-circle"}})],1)],1),e._v(" "),n("a-textarea",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.input2,expression:"showFormItem['input2']"}],staticStyle:{width:"400px"},attrs:{placeholder:"请输入执行脚本，如：npm run production","auto-size":{minRows:5,maxRows:8}},model:{value:e.form.input2,callback:function(t){e.$set(e.form,"input2",t)},expression:"form.input2"}}),e._v(" "),n("a-select",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.input3,expression:"showFormItem['input3']"}],staticStyle:{width:"180px"},attrs:{placeholder:"请选择任务模板",model:e.form.input3,"label-in-value":!0},on:{change:e.handleInput3Change}},[n("a-select-option",{attrs:{value:"App\\\\Modules\\\\Core\\\\Jobs\\\\ExchangeData"}},[e._v("\n                                数据交换\n                            ")]),e._v(" "),n("a-select-option",{attrs:{value:"App\\\\Modules\\\\Core\\\\Jobs\\\\ExchangePeriodData"}},[e._v("\n                                时间段数据交换\n                            ")]),e._v(" "),n("a-select-option",{attrs:{value:"App\\\\Modules\\\\Core\\\\Jobs\\\\DoubleCheckData"}},[e._v("\n                                数据校验\n                            ")])],1)],1)],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.input3&&e.form.input3,expression:"showFormItem['input3'] && form.input3"}],attrs:{label:e.form.input3Text,prop:"payload"}},[n("a-textarea",{attrs:{"auto-size":{minRows:8,maxRows:12}},model:{value:e.form.payload,callback:function(t){e.$set(e.form,"payload",t)},expression:"form.payload"}}),e._v(" "),n("a-button",{attrs:{type:"link",icon:"info-circle"},on:{click:e.showPaylaodHelper1Modal}},[e._v("格式参考")]),e._v(" "),n("a-button",{attrs:{type:"link",icon:"info-circle"},on:{click:e.showPaylaodHelper2Modal}},[e._v("邮件校验格式参考")]),e._v(" "),n("a-modal",{attrs:{title:"输入表、输出表、队列任务配置参考","body-style":{overflow:"scroll",height:"500px"},"dialog-style":{top:"20px"},width:"80%",height:"600px"},model:{value:e.payloadHelper1,callback:function(t){e.payloadHelper1=t},expression:"payloadHelper1"}},[n("template",{slot:"footer"},[n("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.handlePayloadHelperOk2}},[e._v("\n                                知道了\n                            ")])],1),e._v(" "),n("pre",[e._v('{\n    "job":{\n        "config":{\n            "deleteWhenMissingModels":false,\n            "_deleteWhenMissingModels_tips":"「忽略丢失的 Models」当向任务注入一个 Eloquent 模型时，它会在被放入队列之前自动序列化，并在处理任务时恢复。但是，如果在任务等待 worker 处理时删除了模型，你的任务可能会失败，出现 ModelNotFoundException。为方便起见，你可以通过设置你的任务的 deleteWhenMissingModels 属性为 true 来自动删除缺少模型的作业",\n            "queue":"default",\n            "_queue_tips":"指定队列名称，默认 default，队列名称必须在命令中指定，例如 php artisan queue:work --queue=default",\n            "connection":"redis",\n            "_connection_tips":"指定队列连接名称，默认 redis",\n            "timeout":120,\n            "_timeout_tips":"「超时」注意：timeout 功能针对 PHP 7.1 + 和 pcntl PHP 扩展进行了优化。同样，任务可以运行的最大秒数可以使用 Artisan 命令行上的 --timeout 开关来指定: php artisan queue:work --timeout=30 但是，你也可以定义允许任务在任务类本身上运行的最大秒数。如果在任务上指定了超时，它将优先于在命令行上指定的任何超时。",\n            "tries":3,\n            "_tries_tips":"「指定任务最大尝试次数 / 超时值」最大尝试次数:指定任务可尝试的最大次数的其中一个方法是，通过 Artisan 命令行上的 --tries 开关: php artisan queue:work --tries=3  但是，可以采用更细粒度的方法：定义任务类本身的最大尝试次数。如果在任务类上指定了最大尝试次数，它将优先于命令行上提供的值。",\n            "run_if_previous_failure":"START_OF_TODAY",\n            "_run_if_previous_failure_tips":"可选配置，仅当满足指定时间到当前时间内的相同任务计划最后一次执行失败的状态，才会执行数据交换。留空也表示不启用。"\n        }\n    },\n    "source":{\n        "name":"料品表",\n        "_name_tips":"输入表的名称说明",\n        "type":"模型名 支持 mongodb",\n        "_type_tips":"可选，缺省值是 Eloquent 可选值有 Eloquent | MongoEloquent",\n        "connection":"u9_db_middle",\n        "_connection_tips":"定义在「数据连接」中的名称",\n        "table":"items",\n        "_table_tips":"输入表名称",\n        "primary_key":"ID",\n        "_primary_key_tips":"Eloquent 模型主键设置，不一定要与表的主键一致，可选择表中任意一列，缺省是 id",\n        "key_type":"string",\n        "_key_type_tips":"Eloquent 模型主键的数据类型，根据实际情况选择string，int等等，缺省是 int",\n        "incrementing":false,\n        "_incrementing_tips":"Eloquent 模型主键是否自增，根据实际情况设置true 或者 false，缺省是true",\n        "period":{\n            "created_at":{\n                "unit":"HOUR",\n                "start":"START_OF_TODAY",\n                "end":"END_OF_TODAY"\n            }\n        },\n        "_period_tips":"时间区间选项，仅当与时间区间设置有关的数据交换任务有效",\n        "uses_timestamps":false,\n        "conditions":{\n            "select":[\n                "ycode",\n                "yname",\n                "sum(ycode) as amount"\n            ],\n            "_select_tips":"select 可以是字符串、数组，当类型是字符串时与平时写的格式没有区别，例如 name as aname, concat(name,\'_1\') as bname",\n            "group":[\n                "ycode",\n                "yname"\n            ],\n            "_group_tips":"group 可以是字符串、数组，当类型是字符串时与平时写的格式没有区别，例如 name, code",\n            "where":[\n                [\n                    "title",\n                    "<>",\n                    ""\n                ],\n                [\n                    "name",\n                    "James, Bond"\n                ],\n                [\n                    "created_at",\n                    {\n                        "method":"whereDate",\n                        "value":"YESTERDAY",\n                        "format":"Y-m-d H:i:s"\n                    }\n                ],\n                [\n                    "updated_at",\n                    {\n                        "method":"whereDate",\n                        "value":"TODAY",\n                        "format":"Y-m-d"\n                    }\n                ],\n                [\n                    "product_at",\n                    {\n                        "method":"whereColumn",\n                        "value":"created_at"\n                    }\n                ]\n            ],\n            "_where_tips":"where 数组，每个数组的元素都是一维数组，大小2或者3。大小为3时：下标1为字段名，下标2为操作符，下标3为匹配值；大小为2时：操作符被设置成\'=\'，下标1为字段名，下标2为匹配值；当大小为2，并且下标2类型是键值对时，进入高级模式：method缺省为where，其中可选的有orWhere、whereBetween、whereNotBetween、whereNotIn、whereNull、whereNotNull、whereDate、whereMonth、whereDay、whereYear、whereTime、whereColumn等等；value为匹配值，同时支持日期时间的简称，如NOW、TODAY、START_OF_TODAY、END_OF_TODAY、YESTERDAY、START_OF_YESTERDAY、END_OF_YESTERDAY、START_OF_WEEK、END_OF_WEEK、START_OF_MONTH、END_OF_MONTH、START_OF_YEAR、END_OF_YEAR；format为日期时间的格式化字符串，缺省为\'Y-m-d H:i:s\'",\n            "whereNotNull":[\n                [\n                    "aname"\n                ],\n                [\n                    "bname"\n                ]\n            ],\n            "_whereNotNull_tips":"数组，每个元素为一维数组且只有一个元素；独立于where批量设置不为null的列，",\n            "whereNull":[\n                [\n                    "aname"\n                ],\n                [\n                    "bname"\n                ]\n            ],\n            "_whereNull_tips":"数组，每个元素为一维数组且只有一个元素；独立于where批量设置为null的列，"\n        },\n        "fields_mapping":[\n            [\n                "code",\n                "id",\n                "trim|substr:0,2"\n            ],\n            [\n                "ycode",\n                "code"\n            ],\n            [\n                "yname",\n                "name"\n            ]\n        ],\n        "unique":[\n            [\n                "ycode"\n            ],\n            [\n                "department",\n                "trim|substr:0,2"\n            ],\n            "md5"\n        ]\n    },\n    "target":{\n        "name":"增量同步产品到目标标准产品",\n        "connection":"docker_mds_in",\n        "table":"core_products",\n        "primary_key":"id",\n        "key_type":"string",\n        "incrementing":false,\n        "uses_timestamps":false,\n        "unique":[\n            [\n                "unique:ycode-department",\n                "id"\n            ]\n        ],\n        "_clean_tips":"可选项，用于数据清洗，当数据同步完成，对当前数据列表进行清洗",\n        "clean":{\n            "field_name_1":{\n                "where":4,\n                "case":{\n                    "when":[\n                        {\n                            "rules":{\n                                "name":"starts_with:1,2,3,5,9"\n                            },\n                            "_rules_tips":"accepted 验证字段必须是 yes， on， 1，或 true。这在确认「服务条款」是否同意时相当有用。 active_url 根据 PHP 函数 dns_get_record ，验证字段必须具有有效的 A 或 AAAA 记录。 after:date 验证字段必须是给定日期之后的值。 after_or_equal:date 验证字段必须是在给定日期之后或与此日期相同的值。 alpha 验证字段必须完全由字母构成。 alpha_dash 验证字段可能包含字母、数字，以及破折号 (-) 和下划线 ( _ )。 alpha_num 验证字段必须是完全是字母、数字。 array 验证的字段必须是一个 PHP 数组。 before:date 正在验证的字段必须是给定日期之前的值。 before_or_equal:date 验证字段必须是在给定日期之前或与之相同的日期。这个日期值将会被传递给 PHP 的 strtotime 函数来计算。 between:min,max 验证字段的大小必须在给定的 min 和 max 之间。字符串、数字、数组和文件的计算方式都使用 size 方法。 boolean 验证的字段必须可以转换为 Boolean 类型。 可接受的输入为 true ， false ， 1 ， 0 ， “1” 和 “0” 。 date 验证的字段必须是有效的日期。 date_equals:date 验证字段必须等于给定日期。 date_format:format 验证字段必须匹配给定的日期格式。 different:field 验证的字段值必须与字段 field 的值不同。 digits:value 验证的字段必须为 numeric ，并且必须具有确切长度 value。 digits_between:min,max 验证字段的长度必须在给定的 min 和 max 之间。 可用的规则为:min_width, max_width, min_height, max_height, width, height, ratio。 ratio  约束应该表示为宽度除以高度。 这可以通过像 3/2 这样的语句或像 1.5 这样的 float 来指定： email 验证的字段必须符合 e-mail 地址格式。当前版本，此种验证规则由 egulias/email-validator 提供支持。默认使用 RFCValidation 验证样式，但你也可以使其他验证样式： ends_with:foo,bar,... 验证的字段必须以给定的值之一结尾。 filled 验证的字段在存在时不能为空。 gt:field 验证字段必须大于给定的 field。两个字段必须是相同的类型。字符串、数字、数组和文件都使用 size 进行相同的评估。 gte:field 验证字段必须大于或等于给定的 field。两个字段必须是相同的类型。字符串、数字、数组和文件都使用 size 进行相同的评估。 in:foo,bar,... 验证字段必须包含在给定的值列表中。由于此规则通常要求您 implode 数组，因此可以使用 Rule :: in 方法流畅地构造规则： integer 验证的字段必须是整数。 {注} 此种验证规则不是验证数据是 “integer” 类型，仅验证字符串或数值包含一个 integer. ip 验证的字段必须是 IP 地址。 ipv4 验证的字段必须是 IPv4 地址。 ipv6 验证的字段必须是 IPv6 地址。 json 验证的字段必须是有效的 JSON 字符串。 lt:field 验证的字段必须小于给定的 field.。这两个字段必须是相同的类型。字符串、数值、数组和文件大小的计算方式与 size 方法进行评估。 lte:field 验证中的字段必须小于或等于给定的 字段 。这两个字段必须是相同的类型。字符串、数值、数组和文件大小的计算方式与 size 方法进行评估。 max:value 验证中的字段必须小于或等于 value。字符串、数字、数组或是文件大小的计算方式都用 size 规则。 min:value 验证字段必须具有最小值。 字符串，数值，数组，文件大小的计算方式都与 size 规则一致. not_in:foo,bar,... 验证字段不能包含在给定的值的列表中。 使用 Rule::notIn 方法可以更流畅的构建这个规则： not_regex:pattern 验证字段必须与给定的正则表达式不匹配。例如：\'not_regex:/^.+$/i\'. nullable 验证字段可以为 null。这在验证基本数据类型时特别有用，例如可以包含空值的字符串和整数。 numeric 验证字段必须为数值。 present 验证字段必须存在于输入数据中，但可以为空。 regex:pattern 验证字段必须与给定的正则表达式匹配。例如：\'not_regex:/^.+$/i\' 。 required 验证的字段必须存在于输入数据中，而不是空。如果满足以下条件之一，则字段被视为「空」： 值为 null 。 值为空字符串。 required_if:anotherfield,value1,value2,value3... 如果其它字段 _anotherfield_ 为任一值 _value1_ 或 _value2_ 或 _value3_ 等（也可只有一个 _value1_） ，则此验证字段必须存在且不为空。 如果您需要构造更复杂的条件 required_if 规则， 您可以使用 Rule::requiredIf  required_unless:anotherfield,value,... 如果其它字段 _anotherfield_ 不等于任一值 _value_ ，则此验证字段必须存在且不为空。 required_with:foo,bar,... 在其他任一指定字段出现时，验证的字段才必须存在且不为空。 required_with_all:foo,bar,... 只有在其他指定字段全部出现时，验证的字段才必须存在且不为空。 required_without:foo,bar,... 在其他指定任一字段不出现时，验证的字段才必须存在且不为空。 required_without_all:foo,bar,... 只有在其他指定字段全部不出现时，验证的字段才必须存在且不为空。 same:field 验证字段必须与给定字段相匹配。 size:value 验证字段必须与给定值的大小一致。对于字符串，value 对应字符数。对于数字，value 对应给定的整数值。对于数组，size 对应数组的 count 值。对于文件，size 对应文件大小（单位 kb）。 starts_with:foo,bar,... 验证字段必须以给定值之一开头。 string 验证字段必须是一个字符串。如果允许这个字段为 null，需要给这个字段分配 nullable 规则。 timezone 验证字段必须为符合 PHP 函数 timezone_identifiers_list 所定义的有效时区标识。 url 验证的字段必须是有效的 URL。 uuid 验证字段必须是有效的 RFC 4122（版本 1,3,4 或 5）通用唯一标识符（UUID）。",\n                            "then":1\n                        }\n                    ],\n                    "else":2\n                }\n            },\n            "_field_name_1_tips":"字段名，替换成目标表中的字段名",\n            "field_name_2":{\n                "where":4,\n                "max":1,\n                "_max_tips":"以此字段的最大值为基础，按设置的值累加"\n            }\n        }\n    }\n}\n    ')])],2),e._v(" "),n("a-modal",{attrs:{title:"数据校验发送结果至邮件的配置参考","body-style":{overflow:"scroll",height:"500px"},"dialog-style":{top:"20px"},width:"80%",height:"600px"},model:{value:e.payloadHelper2,callback:function(t){e.payloadHelper2=t},expression:"payloadHelper2"}},[n("template",{slot:"footer"},[n("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.handlePayloadHelperOk2}},[e._v("\n                                知道了\n                            ")])],1),e._v(" "),n("pre",[e._v('{\n    "job":{\n        "config":{\n            "deleteWhenMissingModels":false,\n            "_deleteWhenMissingModels_tips":"「忽略丢失的 Models」当向任务注入一个 Eloquent 模型时，它会在被放入队列之前自动序列化，并在处理任务时恢复。但是，如果在任务等待 worker 处理时删除了模型，你的任务可能会失败，出现 ModelNotFoundException。为方便起见，你可以通过设置你的任务的 deleteWhenMissingModels 属性为 true 来自动删除缺少模型的作业",\n            "queue":"default",\n            "_queue_tips":"指定队列名称，默认 default，队列名称必须在命令中指定，例如 php artisan queue:work --queue=default",\n            "connection":"redis",\n            "_connection_tips":"指定队列连接名称，默认 redis",\n            "timeout":120,\n            "_timeout_tips":"「超时」注意：timeout 功能针对 PHP 7.1 + 和 pcntl PHP 扩展进行了优化。同样，任务可以运行的最大秒数可以使用 Artisan 命令行上的 --timeout 开关来指定: php artisan queue:work --timeout=30 但是，你也可以定义允许任务在任务类本身上运行的最大秒数。如果在任务上指定了超时，它将优先于在命令行上指定的任何超时。",\n            "tries":3,\n            "_tries_tips":"「指定任务最大尝试次数 / 超时值」最大尝试次数:指定任务可尝试的最大次数的其中一个方法是，通过 Artisan 命令行上的 --tries 开关: php artisan queue:work --tries=3  但是，可以采用更细粒度的方法：定义任务类本身的最大尝试次数。如果在任务类上指定了最大尝试次数，它将优先于命令行上提供的值。",\n            "run_if_previous_failure":"START_OF_TODAY",\n            "_run_if_previous_failure_tips":"可选配置，仅当满足指定时间到当前时间内的相同任务计划最后一次执行失败的状态，才会执行数据交换。留空也表示不启用。"\n        }\n    },\n    "double_check": {\n        "send_msg": "WHEN_DIFF_VALUES",\n        "_send_msg_tips": "可选参数，消息内容控制，可选值 WHEN_DIFF_ONLY WHEN_DIFF_VALUES，默认 WHEN_DIFF_ONLY",\n        "send_msg_even_no_diff": false,\n        "_send_msg_even_no_diff_tips": "可选参数，没有差异也发送消息，默认值 false",\n        "msg_type": "EMAIL",\n        "email_address": [\n            "lw@huangyebl.com",\n            "zq@huangyebl.com",\n            "ldj@huangyebl.com"\n        ],\n        "sort": [\n            "field_1",\n            "field_2"\n        ],\n        "_sort_tips": "可选值，数组类型，使用系统排序，会增加时间消耗",\n    },\n    "source":{\n        "name":"比对来源数据",\n        "_name_tips":"输入表的名称说明",\n        "connection":"u9_db_middle",\n        "_connection_tips":"定义在「数据连接」中的名称",\n        "sql": "select * from table_name where created_at >= :START_OF_TODAY and updated_at <= :END_OF_TODAY",\n        "binding": [\n            "START_OF_TODAY",\n            {\n                "name": "END_OF_TODAY",\n                "format": "Y-m-d H:i:s"\n            }\n        ]\n    },\n    "target":{\n        "name":"比对目标数据",\n        "connection":"docker_mds_in",\n        "sql": "select * from table_name"\n    }\n}\n    ')])],2)],1),e._v(" "),n("a-form-model-item",{attrs:{label:"执行周期"}},[n("a-cron",{ref:"innerVueCron",attrs:{value:e.form.cron},on:{change:e.setCorn}})],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.overlapping,expression:"showFormItem['overlapping']"}],attrs:{label:"其他设置"}},[n("a-input-group",{attrs:{size:"large"}},[n("a-row",{attrs:{gutter:8}},[n("a-col",{attrs:{span:6}},[n("a-switch",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.overlapping,expression:"showFormItem['overlapping']"}],attrs:{"checked-children":"重复任务/覆盖","un-checked-children":"重复任务/等待"},on:{change:e.onChangeOverlappingOptions}})],1),e._v(" "),n("a-col",{attrs:{span:6}},[n("a-switch",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.one_server,expression:"showFormItem['one_server']"}],attrs:{"checked-children":"单例模式","un-checked-children":"集群模式"},on:{change:e.onChangeOneServerOptions}})],1),e._v(" "),n("a-col",{attrs:{span:6}},[n("a-switch",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.background,expression:"showFormItem['background']"}],attrs:{"checked-children":"后台模式","un-checked-children":"前台模式"},on:{change:e.onChangeBackgroundOptions}})],1),e._v(" "),n("a-col",{attrs:{span:6}},[n("a-switch",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.maintenance,expression:"showFormItem['maintenance']"}],attrs:{"checked-children":"维护模式/运行","un-checked-children":"维护模式/停止"},on:{change:e.onChangeMaintenanceOptions}})],1)],1)],1)],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.ping_before,expression:"showFormItem['ping_before']"}],attrs:{label:"PING",prop:"ping_before"}},[n("a-textarea",{attrs:{placeholder:"任务执行前 ping一次系统可以访问到的任意网页地址，若地址可访问，任务才会执行。","auto-size":{minRows:3,maxRows:5}},model:{value:e.form.ping_before,callback:function(t){e.$set(e.form,"ping_before",t)},expression:"form.ping_before"}})],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.ping_success,expression:"showFormItem['ping_success']"}],attrs:{label:"PING",prop:"ping_success"}},[n("a-textarea",{attrs:{placeholder:"任务执行成功后，ping一次系统可以访问到的任意网页地址。","auto-size":{minRows:3,maxRows:5}},model:{value:e.form.ping_success,callback:function(t){e.$set(e.form,"ping_success",t)},expression:"form.ping_success"}})],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:e.showFormItem.ping_failure,expression:"showFormItem['ping_failure']"}],attrs:{label:"PING",prop:"ping_failure"}},[n("a-textarea",{attrs:{placeholder:"任务执行失败后 ping一次系统可以访问到的任意网页地址。","auto-size":{minRows:3,maxRows:5}},model:{value:e.form.ping_failure,callback:function(t){e.$set(e.form,"ping_failure",t)},expression:"form.ping_failure"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"分组",placeholder:"对计划或任务进行分组设置，请输入分组名称",prop:"group"}},[n("a-input",{model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"排序",prop:"order"}},[n("a-input-number",{attrs:{min:0},on:{change:e.onChangeOrder},model:{value:e.form.order,callback:function(t){e.$set(e.form,"order",t)},expression:"form.order"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"状态"}},[n("a-switch",{attrs:{"checked-children":"启用","un-checked-children":"禁用",checked:1===e.form.status},on:{change:e.onChangeStatus}})],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1===e.form.status,expression:"form.status === 1"}],attrs:{label:"单次任务"}},[n("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",checked:1===e.form.once},on:{change:e.onChangeOnceOptions}})],1),e._v(" "),n("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0===e.id||3!==e.form.schedule_type,expression:"id === 0 || form.schedule_type !== 3"}],attrs:{label:"立即启动"}},[n("a-switch",{attrs:{"checked-children":"启动","un-checked-children":"否",checked:1===e.form.start},on:{change:e.onChangeStartOptions}})],1),e._v(" "),n("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)])}),[],!1,null,"24837038",null));t.default=m.exports},SYor:function(e,t,n){"use strict";var r=n("I+eb"),a=n("WKiH").trim;r({target:"String",proto:!0,forced:n("yNLB")("trim")},{trim:function(){return a(this)}})},ToJy:function(e,t,n){"use strict";var r=n("I+eb"),a=n("HAuM"),i=n("ewvW"),s=n("UMSQ"),o=n("V37c"),c=n("0Dky"),l=n("rdv8"),u=n("pkCn"),m=n("BNF5"),p=n("2Zix"),d=n("LQDL"),f=n("USzg"),h=[],v=h.sort,_=c((function(){h.sort(void 0)})),b=c((function(){h.sort(null)})),y=u("sort"),g=!c((function(){if(d)return d<70;if(!(m&&m>3)){if(p)return!0;if(f)return f<603;var e,t,n,r,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)h.push({k:t+r,v:n})}for(h.sort((function(e,t){return t.v-e.v})),r=0;r<h.length;r++)t=h[r].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}}));r({target:"Array",proto:!0,forced:_||!b||!y||!g},{sort:function(e){void 0!==e&&a(e);var t=i(this);if(g)return void 0===e?v.call(t):v.call(t,e);var n,r,c=[],u=s(t.length);for(r=0;r<u;r++)r in t&&c.push(t[r]);for(n=(c=l(c,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:o(t)>o(n)?1:-1}}(e))).length,r=0;r<n;)t[r]=c[r++];for(;r<u;)delete t[r++];return t}})},USzg:function(e,t,n){var r=n("NC/Y").match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},WJkJ:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},WKiH:function(e,t,n){var r=n("HYAF"),a=n("V37c"),i="["+n("WJkJ")+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(e){return function(t){var n=a(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},X2Y1:function(e,t,n){var r=n("iw/Y");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},XKA8:function(e,t,n){"use strict";n("X2Y1")},di6k:function(e,t,n){var r=n("ATb0");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},"iw/Y":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,".container-widthEn[data-v-54475bf7]{width:755px}.container-widthCn[data-v-54475bf7]{width:608px}.language[data-v-54475bf7]{text-align:center;position:absolute;right:13px;top:13px;height:40px;line-height:38px;font-size:16px;color:#409eff;z-index:1;background:#f5f7fa;outline:none;width:47px;border:1px solid transparent;border-bottom-color:#e6ebf5;border-radius:0}.card-container .bottom[data-v-54475bf7]{display:flex;justify-content:center;padding:10px 0 0}.card-container .bottom .cronButton[data-v-54475bf7]{margin:0 10px;line-height:40px}.tabBody .a-row[data-v-54475bf7]{margin:10px 0}.tabBody .a-row .long .a-select[data-v-54475bf7]{width:354px}.tabBody .a-row .a-input-number[data-v-54475bf7]{width:110px}",""])},"p/WU":function(e,t,n){var r=n("9UVS");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},qePV:function(e,t,n){"use strict";var r=n("g6v/"),a=n("2oRo"),i=n("lMq5"),s=n("busE"),o=n("UTVS"),c=n("xrYK"),l=n("cVYH"),u=n("2bX/"),m=n("wE6v"),p=n("0Dky"),d=n("fHMY"),f=n("JBy8").f,h=n("Bs8V").f,v=n("m/L8").f,_=n("WKiH").trim,b=a.Number,y=b.prototype,g="Number"==c(d(y)),w=function(e){if(u(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,r,a,i,s,o,c,l=m(e,"number");if("string"==typeof l&&l.length>2)if(43===(t=(l=_(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+l}for(s=(i=l.slice(2)).length,o=0;o<s;o++)if((c=i.charCodeAt(o))<48||c>a)return NaN;return parseInt(i,r)}return+l};if(i("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var k,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(g?p((function(){y.valueOf.call(n)})):"Number"!=c(n))?l(new b(w(t)),n,x):w(t)},S=r?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;S.length>E;E++)o(b,k=S[E])&&!o(x,k)&&v(x,k,h(b,k));x.prototype=y,y.constructor=x,s(a,"Number",x)}},rdv8:function(e,t){var n=Math.floor,r=function(e,t){var s=e.length,o=n(s/2);return s<8?a(e,t):i(r(e.slice(0,o),t),r(e.slice(o),t),t)},a=function(e,t){for(var n,r,a=e.length,i=1;i<a;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},i=function(e,t,n){for(var r=e.length,a=t.length,i=0,s=0,o=[];i<r||s<a;)i<r&&s<a?o.push(n(e[i],t[s])<=0?e[i++]:t[s++]):o.push(i<r?e[i++]:t[s++]);return o};e.exports=r},v0y9:function(e,t,n){"use strict";n("p/WU")},xxch:function(e,t,n){"use strict";n("di6k")},yNLB:function(e,t,n){var r=n("0Dky"),a=n("WJkJ");e.exports=function(e){return r((function(){return!!a[e]()||"​᠎"!="​᠎"[e]()||a[e].name!==e}))}},yq1k:function(e,t,n){"use strict";var r=n("I+eb"),a=n("TWQb").includes,i=n("RNIs");r({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);