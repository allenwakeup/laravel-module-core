(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{q4ly:function(e,t,r){"use strict";r.r(t);var o={components:{},props:{},data:function(){return{cascader_area:[],form:{code:"",name:"",description:"",requires:"",options:"",order:1,status:1},rules:{code:[{min:1,max:20,message:"1到20个字符",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:10,message:"至少两个字",trigger:"blur"}]},id:0}},watch:{},computed:{},methods:{handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return e.$message.error("请按要求填写表单！"),!1;var r=e.$apiHandle(e.$api.adminDatasources,e.id);r.status?e.$put(r.url,e.form).then((function(t){return 200===t.code?(e.$message.success(t.msg),e.$router.back()):e.$message.error(t.msg)})):e.$post(r.url,e.form).then((function(t){return 200===t.code||201===t.code?(e.$message.success(t.msg),e.$router.back()):e.$message.error(t.msg)}))}))},onChangeOrder:function(e){this.form.order=e},onChangeStatus:function(e){this.form.status=e?1:0},get_info:function(){var e=this;this.$get(this.$api.adminDatasources+"/"+this.id).then((function(t){e.form=t.data}))},onload:function(){this.$isEmpty(this.$route.params.id)||(this.id=this.$route.params.id,this.get_info())}},created:function(){this.onload()},mounted:function(){}},a=r("KHd+"),s=Object(a.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"admin_table_page_title"},[r("a-button",{staticClass:"float_right",attrs:{icon:"arrow-left"},on:{click:function(t){return e.$router.back()}}},[e._v("返回")]),e._v("\n        数据源编辑\n    ")],1),e._v(" "),r("div",{staticClass:"unline underm"}),e._v(" "),r("div",{staticClass:"admin_form"},[r("a-form-model",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-col":{span:5},"wrapper-col":{span:12}}},[r("a-form-model-item",{attrs:{label:"代码"}},[r("a-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"名称"}},[r("a-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"描述"}},[r("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"必填项"}},[r("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:e.form.requires,callback:function(t){e.$set(e.form,"requires",t)},expression:"form.requires"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"选填项"}},[r("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:e.form.options,callback:function(t){e.$set(e.form,"options",t)},expression:"form.options"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"排序"}},[r("a-input-number",{attrs:{min:0},on:{change:e.onChangeOrder},model:{value:e.form.order,callback:function(t){e.$set(e.form,"order",t)},expression:"form.order"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:"状态"}},[r("a-switch",{attrs:{"checked-children":"启用","un-checked-children":"禁用",checked:1===e.form.status},on:{change:e.onChangeStatus}})],1),e._v(" "),r("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[r("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)])}),[],!1,null,"dec5078e",null);t.default=s.exports}}]);